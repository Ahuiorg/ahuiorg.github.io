<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Lee Blog - Lee</title><meta name="keywords" content="辉博客,阿辉博客,阿辉的个人博客,ES6,JS,WEB,web,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验"><meta name="author" content="李鹏辉,ahuinet@163.com"><meta name="copyright" content="李鹏辉"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习 生活 成长">
<meta property="og:type" content="website">
<meta property="og:title" content="Lee Blog">
<meta property="og:url" content="https://leejs.cn/index.html">
<meta property="og:site_name" content="Lee Blog">
<meta property="og:description" content="学习 生活 成长">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="李鹏辉">
<meta property="article:tag" content="辉博客,阿辉博客,阿辉的个人博客,ES6,JS,WEB,web,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://leejs.cn/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Lee Blog',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-09-28 09:34:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">61</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> Media</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://images.unsplash.com/photo-1475669698648-2f144fcaaeb1?ixlib=rb-1.2.1&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=1470&amp;q=80')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Lee Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> Media</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Lee Blog</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/aa6a8b54/" title="好文 可复制的沟通力"><img class="post_bg" src="https://images-origin.wallwiz.link/58860b9a6e9f6a00013b8f89_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="好文 可复制的沟通力"></a></div><div class="recent-post-info"><a class="article-title" href="/aa6a8b54/" title="好文 可复制的沟通力">好文 可复制的沟通力</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-28T01:30:06.000Z" title="发表于 2022-09-28 09:30:06">2022-09-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A5%BD%E6%96%87/">好文</a></span></div><div class="content">01 要表达情绪，而不是情绪化表达比较东西方的文化，我们会发现东方和西方最大的区别在于——东方是境界高，给你一个很高的目标，但不告诉你方法。比如孔子说的「中庸之道」，怎么达到呢？他没告诉你，需要你去琢磨，需要你用一辈子去慢慢摸索，不需要也没有具体的指导，所以我们很多传统智慧是需要悟性和天分的。但是西方人的办法是直接给你一个工具，清晰地告诉你第一步、第二步、第三步如何去做。工具书的友好之处就在于它给了每个普通人成长和修炼自己的机会。很多人觉得「沟通力」是与生俱来的，这样的说法太绝对了，它其实是一种可以经过后天训练而掌握的软实力。通过不断学习和刻意练习，能够「从无意识也不会」，发展到「有意识但不会」，再到「有意识并且会」，最后进阶到「无意识下就会」的阶段。所以在《可复制的沟通力》这本书中，我总结了几个有效的沟通方法可以在这里分享给大家：
第一个就是我们得学会站在别人的角度思考问题，要多去关注他人的想法。很多人讲话的时候是不会考虑到别人的感受，都是在关注自己的感受。所以你得了解当一个人跟你说很“冲”的话时，他背后的需求到底是什么。只有知道了这个需求，多从对方立场考虑问题，才能知道该如何寻找沟 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/82750b40/" title="vue3 双向绑定"><img class="post_bg" src="https://images-origin.wallwiz.link/58860ea56e9f6a00013b93a3_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue3 双向绑定"></a></div><div class="recent-post-info"><a class="article-title" href="/82750b40/" title="vue3 双向绑定">vue3 双向绑定</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-27T03:46:29.000Z" title="发表于 2022-09-27 11:46:29">2022-09-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/vue3/">vue3</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/vue3/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/">双向绑定</a></span></div><div class="content">[TOC]
写在前面本文的目标是实现一个基本的vue3的响应式，包含最基础的情况的处理，本文是系列文章，如果你对vue3还不了解，那么请移步：
超详细整理vue3基础知识💥
手写mini-vue3第三弹！万字实现渲染器首次渲染流程 🎉 🎉 
更新！更新！实现vue3虚拟DOM更新&amp;diff算法优化🎉 🎉
本文你将学到

一个基础的响应式实现 ✅
Proxy ✅
Reflect ✅
嵌套effect的实现 ✅
computed ✅
watch ✅
浅响应与深响应 ✅
浅只读与深只读 ✅
处理数组长度 ✅
ref ✅
toRefs ✅


一. 实现一个完善的响应式所谓的响应式数据的概念，其实最主要的目的就是为数据绑定执行函数，当数据发生变动的时候，再次触发函数的执行。
例如我们有一个对象data，我们想让它变成一个响应式数据，当data的数据发生变化时，自动执行effect函数，使nextVal变量的值也进行变化：
1234567891011121314// 定义一个对象let data = &#123;  name: &#x27;pino&#x27;,  age: 1 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/cd70c25c/" title="常见数据分析模型"><img class="post_bg" src="https://images-origin.wallwiz.link/5976161269f78700012df74f_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常见数据分析模型"></a></div><div class="recent-post-info"><a class="article-title" href="/cd70c25c/" title="常见数据分析模型">常见数据分析模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-26T10:08:08.000Z" title="发表于 2022-09-26 18:08:08">2022-09-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></span></div><div class="content">[TOC]
留存分析据某第三方平台近期调研结果显示，在金融创业领域，2013 年一家互联网金融创业公司的投资获客成本区间为 300 – 500 元，而2016 年则涨为 1000 – 3000 元；在电商领域，新用户的获取成本，是维护一个老用户的 3 倍到 10 倍……
如今，高居不下的获客成本让互联网、移动互联网创业者们遭遇新的“天花板”，甚至陷入“纳不起”新客的窘境。而花费极高成本所获取的客户，可能仅打开一次 APP或完成一次交易，就白白流失。随着市场饱和度上升，绝大多数企业亟待解决如何增加客户黏性，延长每一个客户的生命周期价值。因此留存分析分析模型备受青睐。
一、什么是留存分析留存分析是一种用来分析用户参与情况&#x2F;活跃程度的分析模型，考察进行初始行为的用户中，有多少人会进行后续行为。这是用来衡量产品对用户价值高低的重要方法。留存分析可以帮助回答以下问题：
一个新客户在未来的一段时间内是否完成了您期许用户完成的行为？如支付订单等。
某个社交产品改进了新注册用户的引导流程，期待改善用户注册后的参与程度，如何验证？
想判断某项产品改动是否奏效，如新增了一个邀请好友的功能，观察是 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/3fb0c879/" title="前端架构(六): 整洁架构"><img class="post_bg" src="https://images-origin.wallwiz.link/590bca5f90c79d0001e9cbff_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(六): 整洁架构"></a></div><div class="recent-post-info"><a class="article-title" href="/3fb0c879/" title="前端架构(六): 整洁架构">前端架构(六): 整洁架构</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T02:13:24.000Z" title="发表于 2022-09-08 10:13:24">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">如果你对整洁架构（Clean Architecture）有所了解的话，回想一下我们前几篇中描述的内容，你会发现整洁架构对前端，对 MVP 来说也是同样适用的。
整洁架构关于什么是整洁架构完全可以通过阅读 Uncle Bob 原版图书中文版《整洁架构之道》来了解，或者可以通过阅读他的一个简短版本博客 The Clean Architecture 一探端倪。但我还是推荐阅读图书，图书全面而且浅显易懂，没有和某一门编程语言强行绑定，即使你没有后端背景也能流畅的通读下来。出于篇幅的考虑，在这里我只取一瓢，摘取一个契合于我们前端架构的知识点以做说明，就是模块间的依赖关系
这篇文章里更多的是告诉你 what（结论），而不是 why（为什么需要这么做）。因为 why 这件事需要更多的上下文来解释，这也是我为什么推荐你阅读原书的另一个原因。

为了便于说明，我也把上次的 MVP 流程也放在这里

依赖关系我们可以将我们的应用大致划分为三类模块：UI、Service Layer (Presenter)，Business Model。这么划分不仅是直觉上告诉我们应该怎么做，更重要的是这三大类的模块的变化频 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/a49a5e85/" title="前端架构(五): 从Flux进化到MVP"><img class="post_bg" src="https://images-origin.wallwiz.link/59c13323c6a7580001cc9bfd_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(五): 从Flux进化到MVP"></a></div><div class="recent-post-info"><a class="article-title" href="/a49a5e85/" title="前端架构(五): 从Flux进化到MVP">前端架构(五): 从Flux进化到MVP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T02:12:53.000Z" title="发表于 2022-09-08 10:12:53">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">在 Flux 架构中，有两个问题依然没有被提到，一个是表现层模型，另一个是测试
我们从表现层逻辑说起
表现层模型即 Presenter Model 或者称之为 View Model。这是一些与业务无关紧要，但是与可视化展示息息相关的数据。简单的例如某个可折叠的控件是否处于折叠状态，复杂的可以是某个字段的校验规则，校验的出错信息，或者是图表的展现类型（饼图还是柱状图）等等。
想象一下在 Flux + React 的框架下这些数据应该存放在哪里？我想包括曾经的我在内的大多数人都会把它放在组件中，这是想当然的事情：既然它们属于表现层状态，那么就应该放在表现层的组件中；而不放在 Redux 中的另一个原因是，Redux 并非是所有功能的标配，把所有数据都往 Redux 中集成会让整个 store 显得臃肿，维护起来反而不利。
但在实际应用中这些数据并没有那么纯粹，甚至可以说大多数时候表现层模型和业务模型是息息相关，比如用户允许在下面的表格中选中某些商品，然后选择将它们的价格清零：

简易的伪代码可能是这样的：
12345678910111213141516171819// 每行的选中函数fun ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/332eb1f6/" title="前端架构(四):MVC 的不足与Flux的崛起"><img class="post_bg" src="https://images-origin.wallwiz.link/58860ebbbcf65400017a550f_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(四):MVC 的不足与Flux的崛起"></a></div><div class="recent-post-info"><a class="article-title" href="/332eb1f6/" title="前端架构(四):MVC 的不足与Flux的崛起">前端架构(四):MVC 的不足与Flux的崛起</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T02:12:19.000Z" title="发表于 2022-09-08 10:12:19">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">MVC 的不足事件在前几篇中，我演示了一个前端 Backbone.js MVC 框架用于解决实际问题的例子。但 MVC 依然存在几个问题

不可预测：当一个事件发生之后，你并不知道会有谁响应这个事件，是单个对象还是多个对象会响应这个事件
级联修改：当一个事件发生之后，A 组件在接收到事件之后在响应的过程中，还可能发出其他的事件触发后续的修改，你并不知道这个事件会在何处结束，会造成什么样的结果。这也和上一条「不可预测」相对应
响应顺序：如果存在多个对象响应同一个事件的话，有时候对响应的顺序是有要求的，某些变更不可以出现在其他的变更之前
有条件响应：对于传播方而言，并非希望所有的时间都一视同仁的广播出去；对于消费方而言，也并不希望一视同仁的响应所有的事件

你可能会认为事件机制存在的问题是否只存在于 Backbone.js 中，那 AngularJS 这个 MVC 框架会不会好一些呢？
首先 AngularJS（AngularJS 代指 1.x 版本，Angular 代指 2 以及之后的版本） 框架中也支持全局的事件机制，比如 $broadcast,$emit 等等。这样的事件机制支持变化 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/de7bba25/" title="前端架构(三):MVC 启示录：模块的职责，作用域和通信"><img class="post_bg" src="https://images-origin.wallwiz.link/59c1325eccb8f80001ef5d43_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(三):MVC 启示录：模块的职责，作用域和通信"></a></div><div class="recent-post-info"><a class="article-title" href="/de7bba25/" title="前端架构(三):MVC 启示录：模块的职责，作用域和通信">前端架构(三):MVC 启示录：模块的职责，作用域和通信</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T01:44:11.000Z" title="发表于 2022-09-08 09:44:11">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">在上一篇中，我提出了一个应用中常见的问题：如何在多个视图中共享同一份数据，并且保证它的改动能够同步到不同的视图中去？
针对这个问题我给出了两类解决方案：一类是用户行为驱动的意识流编码，比如当我选择将素材回滚到某个历史版本时，我想当然的手动去更新每一个视图：
12345678910historyView.rollbackTo((historyInfo) =&gt; &#123;   	const &#123;size: &#123; width, height &#125;, color, history, layer &#125; = historyInfo;        infoView.updateHeight(height);    infoView.updateWidth(width);        colorView.updateColor(color);    historyView.updateHistory(history);    layerView.updateHistory(layer)&#125;)

另一类是 MVC 解决方案，以 Backbone 为例， ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/14f37a70/" title="前端架构(二):MVC初探"><img class="post_bg" src="https://images-origin.wallwiz.link/59c13437ccb8f80001ef65ea_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(二):MVC初探"></a></div><div class="recent-post-info"><a class="article-title" href="/14f37a70/" title="前端架构(二):MVC初探">前端架构(二):MVC初探</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T01:37:09.000Z" title="发表于 2022-09-08 09:37:09">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">我把 MVC 框架作为我们理解架构的切入点。虽然它现在已经式弱了，但在我看来它非常重要并且起到了承上启下的作用：作为经典的解决方案第一次系统的把应用的从复杂的混沌中解救了出来。从这套方法论中我们能学习到很多至今能受用的思路，同时我们也能了解到它的不足。如果从篇幅上看我确实 MVC 里停留较长的时间，但实际上我是深入某个具体的框架，而是需要借助它来阐述我们需要解决的问题，引入更多的概念。这些东西在之后的讨论中都会使用到。
我的第一个单页面应用我在刚入这行的时候加入的是一家创业公司，它们的产品是 iPad 上给儿童阅读的电子互动图书。而我的工作职责就是负责一款在线单页面应用编辑工具的前端部分，以供公司内的编辑同事制作这些电子图书。编辑同事可以在这个工具内导入素材，比如音频、视频、或者图片。然后摆放这些素材的位置，给它们设置动画效果等等。它类似于一个可以制作动画的 Photoshop，或者平面版本的 Unity3D 编辑器。当然用这两个比喻实在是太抬举它了，但是我想你们大概能想象出它的功能和样子。
我们就从这个应用开始
它的界面类似于 Photohop 的工作区

如上图所示，每当你选中一个 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/df16bcfd/" title="前端架构(一):初识前端架构"><img class="post_bg" src="https://images-origin.wallwiz.link/58860adbdc1d3f00010accc9_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(一):初识前端架构"></a></div><div class="recent-post-info"><a class="article-title" href="/df16bcfd/" title="前端架构(一):初识前端架构">前端架构(一):初识前端架构</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-08T01:36:24.000Z" title="发表于 2022-09-08 09:36:24">2022-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/">前端架构</a></span></div><div class="content">在这个系列里面，我会谈到前端架构的进化；它们解决了什么样的问题以及又是如何面临新的无法解决的问题的；最后这些架构背后常见的组件和模式。我知道你们都太熟悉 Flux，Redux 和 Vuex 了，所以我不会对它们着墨太多甚至说刻意避免它们。相反，我会谈论到你们不熟悉和没有听说过的 Backbone.js，Mobx，NgRx 和 Akita 等等。我不会深入这些框架的使用细节，而是在必要时介绍它们框架内的概念和设计思路。最后你会发现其实所有框架背后其实都在用同一种方案解决问题，你也有能力创建自己的框架了。
作为系列的第一篇，在涉及到真正的技术内幕之前我们需要达成一些共识。这些共识是我们之后谈论所有技术方案的基础，关于什么是好的，如何在选项间抉择，关于框架演化的方向在哪。
关于这些原则你不必每一条都认同，你可以反对它们，也可以有讨论的空间。但你需要了解的是这些原则和共识决定了之后系列的文章中我偏好的一些内容。
满足非功能需求框架是为了解决非功能性需求（Non-functional requirement），这一点非常重要，这是一切的前提。在我们公司内部更倾向称之为跨功能需求（Cross Fu ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/e62c2eed/" title="go 语言学习列表"><img class="post_bg" src="https://images-origin.wallwiz.link/58860ba7dc1d3f00010acdef_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="go 语言学习列表"></a></div><div class="recent-post-info"><a class="article-title" href="/e62c2eed/" title="go 语言学习列表">go 语言学习列表</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-02T03:25:56.000Z" title="发表于 2022-09-02 11:25:56">2022-09-02</time></span></div><div class="content">
 基础信息


镜像说明
前言


 第一章. Go 起源，发展与普及


1.1. 起源与发展
1.2. 主要特性与发展的环境和影响因素


 第二章. 安装与运行环境


2.1. 平台与架构
2.2. Go 环境变量
2.3. 在 Linux 上安装 Go
2.4. 在 Mac OS X 上安装 Go
2.5. 在 Windows 上安装 Go
2.6. 安装目录清单
2.7. Go 运行时（runtime）
2.8. Go 解释器


 第三章. 编辑器、IDE 等工具


章节说明
3.1. Go 开发环境的基本要求
3.2. 编辑器和集成开发环境
3.3. 调试器
3.4. 构建并运行 Go 程序
3.5. 格式化代码
3.6. 生成代码文档
3.7. 其它工具
3.8. Go 性能说明
3.9. 与其它语言进行交互


 第四章. 基本结构和基本数据类型


4.1. 文件名、关键字与标识符
4.2. Go 程序的基本结构和要素
4.3. 常量
4.4. 变量
4.5. 基本类型和运算符
4.6. 字符串
4.7. strings 和 strconv 包
4.8. 时间 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">李鹏辉</div><div class="author-info__description">学习 生活 成长</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">61</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/aa6a8b54/" title="好文 可复制的沟通力"><img src="https://images-origin.wallwiz.link/58860b9a6e9f6a00013b8f89_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="好文 可复制的沟通力"/></a><div class="content"><a class="title" href="/aa6a8b54/" title="好文 可复制的沟通力">好文 可复制的沟通力</a><time datetime="2022-09-28T01:30:06.000Z" title="发表于 2022-09-28 09:30:06">2022-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/82750b40/" title="vue3 双向绑定"><img src="https://images-origin.wallwiz.link/58860ea56e9f6a00013b93a3_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="vue3 双向绑定"/></a><div class="content"><a class="title" href="/82750b40/" title="vue3 双向绑定">vue3 双向绑定</a><time datetime="2022-09-27T03:46:29.000Z" title="发表于 2022-09-27 11:46:29">2022-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/cd70c25c/" title="常见数据分析模型"><img src="https://images-origin.wallwiz.link/5976161269f78700012df74f_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="常见数据分析模型"/></a><div class="content"><a class="title" href="/cd70c25c/" title="常见数据分析模型">常见数据分析模型</a><time datetime="2022-09-26T10:08:08.000Z" title="发表于 2022-09-26 18:08:08">2022-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3fb0c879/" title="前端架构(六): 整洁架构"><img src="https://images-origin.wallwiz.link/590bca5f90c79d0001e9cbff_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(六): 整洁架构"/></a><div class="content"><a class="title" href="/3fb0c879/" title="前端架构(六): 整洁架构">前端架构(六): 整洁架构</a><time datetime="2022-09-08T02:13:24.000Z" title="发表于 2022-09-08 10:13:24">2022-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/a49a5e85/" title="前端架构(五): 从Flux进化到MVP"><img src="https://images-origin.wallwiz.link/59c13323c6a7580001cc9bfd_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="前端架构(五): 从Flux进化到MVP"/></a><div class="content"><a class="title" href="/a49a5e85/" title="前端架构(五): 从Flux进化到MVP">前端架构(五): 从Flux进化到MVP</a><time datetime="2022-09-08T02:12:53.000Z" title="发表于 2022-09-08 10:12:53">2022-09-08</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/bugfix/"><span class="card-category-list-name">bugfix</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/fit/"><span class="card-category-list-name">fit</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/learning-notes/"><span class="card-category-list-name">learning notes</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/tools/"><span class="card-category-list-name">tools</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/vue3/"><span class="card-category-list-name">vue3</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/vue3/%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/"><span class="card-category-list-name">双向绑定</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">前端基础</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/"><span class="card-category-list-name">前端架构</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Canvas/" style="font-size: 1.1em; color: #999">Canvas</a> <a href="/tags/ES6/" style="font-size: 1.1em; color: #999">ES6</a> <a href="/tags/MVC/" style="font-size: 1.1em; color: #999">MVC</a> <a href="/tags/TypeScript/" style="font-size: 1.1em; color: #999">TypeScript</a> <a href="/tags/array/" style="font-size: 1.16em; color: #999b9e">array</a> <a href="/tags/dom/" style="font-size: 1.1em; color: #999">dom</a> <a href="/tags/go/" style="font-size: 1.1em; color: #999">go</a> <a href="/tags/js/" style="font-size: 1.5em; color: #99a9bf">js</a> <a href="/tags/js-%E5%9F%BA%E7%A1%80/" style="font-size: 1.1em; color: #999">js 基础</a> <a href="/tags/js-%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">js 算法</a> <a href="/tags/js%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">js算法</a> <a href="/tags/lightroom/" style="font-size: 1.1em; color: #999">lightroom</a> <a href="/tags/matomo/" style="font-size: 1.1em; color: #999">matomo</a> <a href="/tags/pnpm/" style="font-size: 1.1em; color: #999">pnpm</a> <a href="/tags/rollup/" style="font-size: 1.1em; color: #999">rollup</a> <a href="/tags/serverless/" style="font-size: 1.1em; color: #999">serverless</a> <a href="/tags/svg/" style="font-size: 1.1em; color: #999">svg</a> <a href="/tags/this/" style="font-size: 1.1em; color: #999">this</a> <a href="/tags/vue/" style="font-size: 1.16em; color: #999b9e">vue</a> <a href="/tags/vue-%E5%8E%9F%E7%90%86/" style="font-size: 1.1em; color: #999">vue 原理</a> <a href="/tags/vue3/" style="font-size: 1.21em; color: #999ea4">vue3</a> <a href="/tags/vuex/" style="font-size: 1.1em; color: #999">vuex</a> <a href="/tags/watch/" style="font-size: 1.1em; color: #999">watch</a> <a href="/tags/watchEffect/" style="font-size: 1.1em; color: #999">watchEffect</a> <a href="/tags/web/" style="font-size: 1.44em; color: #99a7ba">web</a> <a href="/tags/webpack/" style="font-size: 1.1em; color: #999">webpack</a> <a href="/tags/%E5%81%A5%E8%BA%AB/" style="font-size: 1.1em; color: #999">健身</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" style="font-size: 1.27em; color: #99a0a9">前端基础</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/" style="font-size: 1.33em; color: #99a2af">前端架构</a> <a href="/tags/%E5%A5%BD%E6%96%87/" style="font-size: 1.1em; color: #999">好文</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 1.16em; color: #999b9e">性能优化</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" style="font-size: 1.1em; color: #999">数据分析</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A/" style="font-size: 1.1em; color: #999">数据双向绑定</a> <a href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 1.39em; color: #99a4b4">浏览器</a> <a href="/tags/%E6%BB%91%E9%9B%AA/" style="font-size: 1.1em; color: #999">滑雪</a> <a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.1em; color: #999">缓存</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/07/"><span class="card-archive-list-date">七月 2020</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">三月 2020</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/02/"><span class="card-archive-list-date">二月 2020</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">一月 2020</span><span class="card-archive-list-count">5</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">61</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-09-28T01:34:18.167Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 李鹏辉</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>