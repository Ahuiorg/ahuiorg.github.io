<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>开发规范 | HaloHuang Blog</title><meta name="keywords" content="辉博客,阿辉博客,阿辉的个人博客,ES6,JS,WEB,web,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验"><meta name="author" content="黄贻飞,halohuang_web@163.com"><meta name="copyright" content="黄贻飞"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言 不以规矩，不能成方圆。 本人有幸经历了团队从缺乏标准到逐渐规范的一个过程，在此当做记录供大家参考。 本文从为什么需要规范以及建立规范的重要性出发，逐步引申出如何去建立适合自己团队的规范，详细讨论了前端具体涉及到的规范都有哪些，部分小节有具体的配置步骤和操作链接。 文中涉及到的所有配置均放在github上的 Demo[1] 中，觉得不错的点个赞 ❤️❤️❤️。 下面我们开始吧🏃。 为什么需">
<meta property="og:type" content="article">
<meta property="og:title" content="开发规范">
<meta property="og:url" content="https://leejs.cn/b27af083/index.html">
<meta property="og:site_name" content="HaloHuang Blog">
<meta property="og:description" content="前言 不以规矩，不能成方圆。 本人有幸经历了团队从缺乏标准到逐渐规范的一个过程，在此当做记录供大家参考。 本文从为什么需要规范以及建立规范的重要性出发，逐步引申出如何去建立适合自己团队的规范，详细讨论了前端具体涉及到的规范都有哪些，部分小节有具体的配置步骤和操作链接。 文中涉及到的所有配置均放在github上的 Demo[1] 中，觉得不错的点个赞 ❤️❤️❤️。 下面我们开始吧🏃。 为什么需">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images-origin.wallwiz.link/58860b66bcf65400017a5089_1">
<meta property="article:published_time" content="2022-08-24T02:21:48.000Z">
<meta property="article:modified_time" content="2022-09-01T07:09:55.716Z">
<meta property="article:author" content="黄贻飞">
<meta property="article:tag" content="辉博客,阿辉博客,阿辉的个人博客,ES6,JS,WEB,web,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images-origin.wallwiz.link/58860b66bcf65400017a5089_1"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://leejs.cn/b27af083/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '开发规范',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-01 15:09:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> Media</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://images-origin.wallwiz.link/58860b66bcf65400017a5089_1')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">HaloHuang Blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heartbeat"></i><span> Media</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-image"></i><span> Gallery</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">开发规范</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-24T02:21:48.000Z" title="发表于 2022-08-24 10:21:48">2022-08-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-09-01T07:09:55.716Z" title="更新于 2022-09-01 15:09:55">2022-09-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="开发规范"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p> <strong>前言</strong></p>
<p>不以规矩，不能成方圆。</p>
<p>本人有幸经历了团队<code>从缺乏标准到逐渐规范</code>的一个过程，在此当做记录供大家参考。</p>
<p>本文从<code>为什么需要规范</code>以及<code>建立规范的重要性</code>出发，逐步引申出如何去建立适合自己团队的规范，详细讨论了前端具体涉及到的规范都有哪些，部分小节有具体的配置步骤和操作链接。</p>
<p>文中涉及到的所有配置均放在github上的 <strong>Demo</strong>[1] 中，觉得不错的点个赞 ❤️❤️❤️。</p>
<p>下面我们开始吧🏃。</p>
<h2 id="为什么需要规范"><a href="#为什么需要规范" class="headerlink" title="为什么需要规范"></a>为什么需要规范</h2><p>规范能给我们带来什么好处，如果没有规范会造成什么后果？这里主要拿代码规范来说。</p>
<p>统一代码规范的好处：</p>
<ol>
<li>提高代码整体的<code>可读性、可维护性、可复用性、可移植性和可靠性</code>，这会从根本上<code>降低开发成本</code>，也是最重要的一点。</li>
<li>保证代码的一致性：软件系统中最重要的因素之一就是编码的一致性。如果编码风格一致，也<code>更加易于维护</code>，因为团队内任何人都可以快速理解并修改。</li>
<li>提升团队整体效率：开发人员通常需要花费大量的时间来解决代码质量问题，如果都按照规范编写，也有助于团队<code>尽早发现问题，甚至完全预防问题</code>，这将提高整个交付过程的效率。</li>
<li>减少code review期间一系列的争议，因为缺乏标准，在争议过程中双方很难妥协（没少因为这事争论过😕）。</li>
</ol>
<p>若不统一代码规范，可能会造成的后果：</p>
<ol>
<li>由于缺乏规范，导致<code>代码风格不一，增加团队成员间的心理负担</code>，极端情况下，某段代码只有某个人能修改（俗称屎山💩）。</li>
<li>团队间协作更加困难：因为开发人员得<code>适应不同的风格，会导致效率低下</code>（阅读代码是我们花费时间最多的地方）。</li>
<li>在code review期间可能经常为类似的事情做过多的讨论。</li>
<li>影响团队的生产力和质量，严重的甚至会影响团队和谐。</li>
</ol>
<h2 id="为什么依然有很多团队缺乏规范"><a href="#为什么依然有很多团队缺乏规范" class="headerlink" title="为什么依然有很多团队缺乏规范"></a>为什么依然有很多团队缺乏规范</h2><p>在这件事上，<strong>很难达成一致</strong>是我认为最重要的原因。并且，仅仅只是拥有规范也是不够的：</p>
<ul>
<li>当开发人员被要求在短时间内完成任务时，通常会回避质量标准。</li>
<li>团队中总是有一些有个性的人不会为了团队去改变自己的习惯。</li>
<li>有些人在会议上就约定达成了一致，在会下依旧我行我素。</li>
<li>…</li>
</ul>
<h2 id="如何保持规范"><a href="#如何保持规范" class="headerlink" title="如何保持规范"></a>如何保持规范</h2><p>我曾想通过会议讨论的方式来制定规范，但效果却差强人意。将失败的原因总结为大致几点：</p>
<ol>
<li>在会议中，思维很容易发散，经常出现的情况是讨论了很多，却很难有实际性的成效，在<code>开发中依然有不少人选择无视规则</code>。</li>
<li>正式的会议往往很难组织，大家很难一起有空闲的时间来讨论，一次&#x2F;两周 都很困难。</li>
<li>会议中对实际案例分析，<code>提出若干点优化建议后，没有对问题的优先级和侧重点进行划分</code>，导致实际效果并不好。</li>
<li>还有一点也是我自己的原因，组织会议的能力有待提升…😭</li>
</ol>
<p>经历了上述的挫败之后，经过反复复盘总结，决定换一种方式来执行：</p>
<ol>
<li>对规范问题进行归纳分析并<code>通过文档记录（wiki等），寻找业内最佳解决方案</code>，在团队内进行统一。</li>
<li>采用小步快跑的方式，有问题就解决问题，<code>按照优先级和重要性进行排序划分，依次将问题纳入迭代</code>，每个迭代重点解决其中几个即好。</li>
<li>本迭代的规范问题绝不留到下个迭代，防止堆积（当然，有时候还是得向项目经理妥协😮‍💨）。</li>
<li>在code review过程中严格把关，拒绝睁一只眼👀闭一只眼🧐。</li>
<li>当团队成员对具体某个规范有争议时，及时讨论并定出结论。</li>
<li><code>没有规则只是为了规则，制定规范的目的并不是一定要按照某某标准来执行</code>，更多的是团队成员达成一致即可。</li>
<li>鼓励大家大胆的质疑规则，若不能提高代码的可读性，可维护性，可复用性，可移植性和可靠性的规则都应该被受到质疑。</li>
<li>以身作则，船头的方向不能偏航。</li>
</ol>
<p>经过两个月的迭代后，发现效果出奇的好👏，大家的规范意识普遍增强，当遇到规范问题时也不再畏畏缩缩，而是大胆的抛出在群里讨论。</p>
<h2 id="开发者需要建立和遵守的规范"><a href="#开发者需要建立和遵守的规范" class="headerlink" title="开发者需要建立和遵守的规范"></a>开发者需要建立和遵守的规范</h2><p>大致可以划分成这几个方向：</p>
<ul>
<li>开发流程规范</li>
<li>代码规范</li>
<li>git commit规范</li>
<li>项目文件结构规范</li>
<li>UI设计规范</li>
</ul>
<h3 id="1-开发流程规范"><a href="#1-开发流程规范" class="headerlink" title="1. 开发流程规范"></a>1. 开发流程规范</h3><p>这里可能有小伙伴有疑问了，开发流程规范不是项目经理定的吗🤔️，跟我有什么关系？</p>
<p>这里想告诉大家的是，开发流程在一定程度上应该是由我们自己来掌控。不管是传统开发的模式还是敏捷开发的模式，对于开发者来说<code>核心依旧是高质高效的完成用户提出的需求</code>。</p>
<p>笔者曾见过不少开发者在拿到产品经理的需求后就开始急匆匆的写代码，以此来体现他们的<code>高效</code>，但往往却因为需求理解不到位和前期代码欠缺设计导致bug率高和返工。</p>
<p>如何找到适合自己的开发流程是需要依靠经验来支撑的，需要反复总结和思考，最终达到<code>高质高效完成</code>的目的。</p>
<p>说一说笔者自己比较喜欢的开发流程：</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/mshqAkialV7FJJoUgu88p8ib2J1qp0VKN5KIYhEJzjLECmCk3krPLtPicJtsowI3HDCMwanicoVNavM4lnSAH1icYNA/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>在接收到需求后应第一时间去了解<code>这个需求的背景是什么？</code>这么做到底有没有解决用户的痛点？或者说用户更深层次的需求是什么？<code>如果团队的产品经理经验不丰富，往往可以在这个阶段砍掉很多不合理的需求（这一点真的很重要）</code>。</p>
<p>对于复杂大功能往往还需要进行<code>技术方案调研</code>和<code>技术方案设计</code>，并输出详细的设计文档。涉及到细节上，则需要将数据流走向、组件设计等通过脑图的形式呈现出来。</p>
<h3 id="2-代码规范之格式化规范"><a href="#2-代码规范之格式化规范" class="headerlink" title="2. 代码规范之格式化规范"></a>2. 代码规范之格式化规范</h3><p>由于每个开发者的IDE不同，即使IDE相同也会因为每个人的配置不一样导致格式化的结果不一样。如何确保团队内开发人员采用统一的格式化配置呢？</p>
<p>这里给推荐大家使用 <strong>prettier</strong>[2]，它内置了一套格式化的规则，具体配置：</p>
<p>1). 安装依赖：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev --save-exact prettier </span><br><span class="line">// or</span><br><span class="line">yarn add --dev --exact prettier</span><br></pre></td></tr></table></figure>

<p>2). 创建一个空配置文件，让编辑器和其他工具知道你正在使用 Prettier：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> &#123;&#125;&gt; .prettierrc.json</span><br></pre></td></tr></table></figure>

<p>3). 创建一个**.prettierignore**[3]文件，让 Prettier CLI 和编辑器知道哪些文件不能格式化，example：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Ignore artifacts:</span></span><br><span class="line">dist</span><br><span class="line">build</span><br><span class="line">coverage</span><br></pre></td></tr></table></figure>

<p>4). 配置编辑器（VScode为例）</p>
<p>IDE中安装 <strong>Prettier-Code Formater</strong>[4] 插件：</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/mshqAkialV7FJJoUgu88p8ib2J1qp0VKN5NNTGEzwSUOUn7K51bX6j3kemAKwZRD4NsQ80SaOOg3uqwwCYwu6e1Q/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>找到IDE中设置模块，搜索 format On Save，勾上这个就可以了。</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/mshqAkialV7FJJoUgu88p8ib2J1qp0VKN5uwGGib0ygSTADvicNUiaFp89icK9qwJG8jtQoDZJ8iaTclMFzZ5icEb3G4QA/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>现在当我们 Ctrl + S 保存代码时，插件就会帮助我们自动格式化了。</p>
<p>这里有小伙伴要问了，要是有人将没有格式化的代码提交上去怎么办？</p>
<p>这时候就需要在 git commit 的阶段自动将提交的代码进行格式化，这里我们借助工具 <strong>husky</strong>[5]，它主要可以帮助我们在 git 阶段检查<code>提交消息、运行测试、检查代码</code>等。没接触过的小伙伴可以去官网了解一下，配置如下：</p>
<ul>
<li>安装 husky和 <strong>lint-staged</strong>[6]：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev husky lint-staged</span><br><span class="line">npx husky install</span><br><span class="line">npm set-script prepare &quot;husky install&quot;</span><br><span class="line">npx husky add .husky/pre-commit &quot;npx lint-staged&quot;</span><br><span class="line">// or</span><br><span class="line">yarn add --dev husky lint-staged</span><br><span class="line">npx husky install</span><br><span class="line">npm set-script prepare &quot;husky install&quot;</span><br><span class="line">npx husky add .husky/pre-commit &quot;npx lint-staged&quot;</span><br></pre></td></tr></table></figure>

<ul>
<li>然后将以下内容添加到<code>package.json</code>中:</li>
</ul>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;**/*&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write --ignore-unknown&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>这段配置的意思是：当执行 git commit 阶段前，先执行<code>lint-staged</code>，<code>lint-staged</code>中的内容就是对<code>暂存区的文件</code>执行格式化的命令。</p>
<p>其他：若使用的是脚手架工具搭建的项目，会自带eslint配置（<code>eslintConfig</code>）。<code>prettier 和 eslint 会有一些配置上的冲突</code>，这个时候需要安装<strong>eslint-config-prettier</strong> [7]以使 ESLint 和 Prettier 相互配合，安装完后在<code>.eslintrc</code>中配置（以Create-React-App为例）：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;eslintConfig&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;react-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;react-app/jest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;prettier&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>这样就可以用<code>&quot;prettier&quot;</code>的部分规则覆盖前面的规则，让它们都能正常工作。</p>
<p>更多详情见：<strong>Prettier</strong>[8]。</p>
<h3 id="3-代码规范之JS-x2F-TS规范"><a href="#3-代码规范之JS-x2F-TS规范" class="headerlink" title="3. 代码规范之JS&#x2F;TS规范"></a>3. 代码规范之JS&#x2F;TS规范</h3><p>JS&#x2F;TS主流的大致有这几种：</p>
<ul>
<li><strong>Airbnb JavaScript Style Guide</strong>[9]</li>
<li><strong>Google JavaScript Style Guide</strong>[10]</li>
<li><strong>Idiomatic JavaScript Style Guide</strong>[11]</li>
<li><strong>JavaScript Standard Style Guide</strong>[12]</li>
<li><strong>jQuery JavaScript Style Guide</strong>[13]</li>
</ul>
<p>比较推荐使用 Airbnb JavaScript Style Guide，它在 Github 上足有 12万 star，几乎覆盖了 JavaScript 的每一项特性。</p>
<p>具体配置：</p>
<p>1). 安装依赖</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint --save-dev</span><br><span class="line">// or</span><br><span class="line">yarn add eslint --dev</span><br></pre></td></tr></table></figure>

<p>2). 生成配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm init @eslint/config</span><br><span class="line">// or</span><br><span class="line">yarn create @eslint/config</span><br></pre></td></tr></table></figure>

<p>跟着终端中的提示，按照自身需求一步步选择即可。</p>
<p>有了具体的规范后，我们同样需要使用工具去约束：还是通过在<code>git commit</code>阶段校验，若不通过则取消提交。</p>
<p>配置（还是在 <code>package.json</code> 中的 <code>lint-staged</code> ）：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;lint-staged&quot;: &#123;</span><br><span class="line">  &quot;**/*&quot;: &quot;prettier --write --ignore-unknown&quot;, //格式化</span><br><span class="line">  &quot;src/*&quot;: &quot;eslint --ext .js,.ts,.tsx&quot;  //进行eslint校验</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：这里如果选用的Typescript，则会默认使用<code>@typescript-eslint/parser</code>解析器，官方为了追求更快的解析速度，并不会对.ts文件中的类型进行检查，只会做语法检测。</p>
<p>如果需要对类型也进行检测，需要在extends中加上<strong>plugin:@typescript-eslint&#x2F;recommended-requiring-type-checking</strong>[14]。</p>
<p>但是在笔者的使用中发现效果并不好，一些基本的类型依然检测不出来，索性这里换了另一种方式：在<code>pre commit</code> 中执行<code>yarn run tsc</code>，这里的意思是对项目中ts文件进行类型检测，默认会读取根目录中的<code>tsconfig.json</code>配置。</p>
<p>这种方式并不完美，它的弊端就在于<code>全量检测</code>，如果项目不大还好，若是项目代码量够多，检测10-20s也是常有的事。</p>
</blockquote>
<p>更多详情查看eslint官网：<strong>eslint.org&#x2F;docs&#x2F;user-g…</strong>[15]</p>
<h3 id="4-代码规范之CSS规范"><a href="#4-代码规范之CSS规范" class="headerlink" title="4. 代码规范之CSS规范"></a>4. 代码规范之CSS规范</h3><p>CSS检查代码规范使用 <code>stylelint</code> 插件，规范则推荐使用 <strong>stylelint-config-standard</strong>[16]：</p>
<p>1). 安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev stylelint stylelint-config-standard</span><br></pre></td></tr></table></figure>

<p>2). 在项目的根目录中创建一个配置文件<code>.stylelintrc.json</code>，内容如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;extends&quot;: &quot;stylelint-config-standard&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3). 解决与<code>prettier</code>配置的冲突：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev stylelint-config-prettier</span><br></pre></td></tr></table></figure>

<p>4). 将下面配置复制到<code>.stylelintrc.json</code>中：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;stylelint-config-standard&quot;</span><span class="punctuation">,</span> <span class="string">&quot;stylelint-config-prettier&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>5). 在 git commitv阶段进行检测：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;lint-staged&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">   <span class="attr">&quot;**/*&quot;</span><span class="punctuation">:</span> <span class="string">&quot;prettier --write --ignore-unknown&quot;</span><span class="punctuation">,</span> <span class="comment">//格式化</span></span><br><span class="line">   <span class="attr">&quot;src/**.&#123;js,jsx,ts,tsx&#125;&quot;</span><span class="punctuation">:</span> <span class="string">&quot;eslint --ext .js,.jsx,.ts,.tsx&quot;</span><span class="punctuation">,</span> <span class="comment">//对js文件检测</span></span><br><span class="line">   <span class="attr">&quot;**/*.&#123;less,css&#125;&quot;</span><span class="punctuation">:</span> <span class="string">&quot;stylelint --fix&quot;</span> <span class="comment">//对css文件进行检测</span></span><br><span class="line"> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<h3 id="5-代码规范之自定义其他规范"><a href="#5-代码规范之自定义其他规范" class="headerlink" title="5. 代码规范之自定义其他规范"></a>5. 代码规范之自定义其他规范</h3><p>下面列一些团队内定的其他规范：</p>
<blockquote>
<p>（1）命名规范</p>
</blockquote>
<p>变量的命名中应尽量减少缩写的情况发生，做到见名知意。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 自我感觉良好的缩写:</span></span><br><span class="line"><span class="keyword">let</span> rContent = <span class="string">&#x27;willen&#x27;</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 无需对每个变量都写注释，从名字上就看懂</span></span><br><span class="line"><span class="keyword">let</span> firstName = <span class="string">&#x27;jackie&#x27;</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 👎 从命名无法知道返回值类型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">showFriendsList</span>(<span class="params"></span>) &#123;....&#125; <span class="comment">// // 无法辨别函数意图,返回的是一个数组，还是一个对象，还是true or false?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 明确函数意图，对于返回true or false的函数，最好以should/is/can/has开头</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">shouldShowFriendsList</span>(<span class="params"></span>) &#123;...&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isEmpty</span>(<span class="params"></span>) &#123;...&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">canCreateDocuments</span>(<span class="params"></span>) &#123;...&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">hasLicense</span>(<span class="params"></span>) &#123;...&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendEmailToUser</span>(<span class="params">user</span>) &#123;.... &#125; <span class="comment">//动词开头，函数意图就很明显</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>（2）写注释</p>
</blockquote>
<p>在每个文件的顶部明确说明该组件做什么，有没有业务理解难点等等，对业务特殊函数&#x2F;变量也需要写注释</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 导航页面-右边区域</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Content</span>=&gt;<span class="function">()=&gt;</span>xxx</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">MAX_INPUT_LENGTH</span> = <span class="number">8</span>; <span class="comment">//用于限制密码输入框</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 如果用户没有订阅则不展示广告 */&#125;</span></span><br><span class="line"><span class="language-xml">      &#123;user.subscribed ? null : <span class="tag">&lt;<span class="name">SubscriptionPlans</span> /&gt;</span>&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<blockquote>
<p>（3）变量兜底</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 对于求值获取的变量，没有兜底</span></span><br><span class="line"><span class="keyword">const</span> &#123; data &#125; = <span class="title function_">getApiRequest</span>();</span><br><span class="line">data.<span class="title function_">map</span>(<span class="function">(<span class="params">s</span>) =&gt;</span> s.<span class="property">id</span>); <span class="comment">//没有考虑data异常的情况，代码一跑就爆炸</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 对于求值变量，做好兜底</span></span><br><span class="line"><span class="keyword">const</span> &#123; data = [] &#125; = <span class="title function_">getApiRequest</span>();</span><br><span class="line">data.<span class="title function_">map</span>(<span class="function">(<span class="params">s</span>) =&gt;</span> s?.<span class="property">id</span>); <span class="comment">//没有考虑data异常的情况，代码一跑就爆炸</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>（4）辅助函数必须是纯函数</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 👎 不要让功能函数的输出变化无常</span><br><span class="line">function plusAbc(a, b, c) &#123;  // 这个函数的输出将变化无常，因为api返回的值一旦改变，同样输入函数的a，b,c的值，但函数返回的结果却不一定相同。</span><br><span class="line">  var c = fetch(&#x27;../api&#x27;);</span><br><span class="line">  return a+b+c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 👍 功能函数使用纯函数，输入一致，输出结果永远唯一</span><br><span class="line">function plusAbc(a, b, c) &#123;  // 同样输入函数的a，b,c的值，但函数返回的结果永远相同。</span><br><span class="line">  return a+b+c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（5）优先使用函数式编程</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 使用for循环编程</span></span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line">   a[i] = a[i] +<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 使用函数式编程</span></span><br><span class="line"><span class="keyword">let</span> b = a.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> ++item)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（6）优先使用函数式组件</p>
</blockquote>
<p>除非需要用到错误边界，否则函数式组件应该是首选方法。</p>
<blockquote>
<p>（7）组件复杂度</p>
</blockquote>
<p>如果一个组件做的事情太多，应适当提取一些逻辑，将其拆分为更小的组件。</p>
<p>如果提取的组件很复杂，则需要依照一定的规则和条件一一提取它。</p>
<p>代码行数并不是一个客观的衡量标准，更多是需要考虑责任划分和抽象。</p>
<blockquote>
<p>（8）用错误边界</p>
</blockquote>
<p>当需要对大量数据进行渲染处理时，需要通过错误边界组件对其进行降级处理。</p>
<p>更多详情见之前写的专题文章：<strong>浅析前端异常及降级处理</strong>[17] 。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Layout</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">CardWidget</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">FiltersWidget</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">ProductList</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Layout</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（9）props参数传递</p>
</blockquote>
<p>props一层层传递一直是我们很头疼的一个问题，最核心的问题是不清楚props是从哪个初始组件传来的，以及props中到底有哪些东西，上下文是什么？</p>
<p>因此对于传递较深的场景我推荐直接使用 context，对于 props 中的内容和上下文通过 TS 来解决。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A.tsx</span></span><br><span class="line">interface <span class="title class_">AProps</span> &#123;</span><br><span class="line">  <span class="attr">param</span>: string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">A</span> = (<span class="params">&#123; param &#125;: AProps</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">B</span> <span class="attr">param</span> = <span class="string">&#123;param&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 上下文清晰</span></span><br><span class="line"><span class="comment">// B.tsx</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">B</span> = (<span class="params">&#123; param &#125;: &#123; param: AProps[<span class="string">&#x27;param&#x27;</span>] &#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（10）props传参数量</p>
</blockquote>
<p>如果超过 5 个props，就该考虑是否拆分该组件。在某些情况下，这是需要对组件进行重构的标志。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意：组件使用的props越多，重新渲染的理由就越多。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（11）避免嵌套三元运算符</p>
</blockquote>
<p>三元运算符在第一级之后变得难以阅读，虽然看起来节省了代码空间，但最好在代码中明确意图，保持良好的阅读性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 不够清晰，要是再嵌套一层两层呢</span></span><br><span class="line">isSubscribed ? (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ArticleRecommendations</span> /&gt;</span></span></span><br><span class="line">) : isRegistered ? (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">SubscribeCallToAction</span> /&gt;</span></span></span><br><span class="line">) : (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">RegisterCallToAction</span> /&gt;</span></span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 将判断逻辑进行拆分</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">CallToActionWidget</span>(<span class="params">&#123; subscribed, registered &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (subscribed) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">ArticleRecommendations</span> /&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (registered) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">SubscribeCallToAction</span> /&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">RegisterCallToAction</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">CallToActionWidget</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">subscribed</span>=<span class="string">&#123;subscribed&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">registered</span>=<span class="string">&#123;registered&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（12）将列表组件封装成独立组件</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 列表渲染和其他逻辑杂糅在一起</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params">&#123; topic, page, articles, onNextPage &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;topic&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;articles.map(article =&gt; (</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;article.title&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;article.teaser&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;article.image&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      ))&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>You are on page &#123;page&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onNextPage&#125;</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 将列表组件提取出来，一目了然</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params">&#123; topic, page, articles, onNextPage &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;topic&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ArticlesList</span> <span class="attr">articles</span>=<span class="string">&#123;articles&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>You are on page &#123;page&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onNextPage&#125;</span>&gt;</span>Next<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（13）避免嵌套渲染函数</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 👎 不要将其定义在渲染函数组件中</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">renderHeader</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">header</span>&gt;</span>...<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;renderHeader()&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 👍 将其抽离到独立的组件中去</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&#x27;@modules/common/components/Header&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Component</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Header</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>（14）组件&#x2F;函数导入导出</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 👍 在文件头部导入，顺序依次为: 第三方库 &gt; 公共组件/方法 &gt; 非公共部分组件/方法</span><br><span class="line">import React from &#x27;react&#x27;</span><br><span class="line">import _ from &#x27;loadsh&#x27;</span><br><span class="line">import Header from &#x27;@components/header&#x27;</span><br><span class="line">import Content from &#x27;./Content&#x27;</span><br><span class="line"></span><br><span class="line">// 👍 在底部导出</span><br><span class="line">export &#123; Content, Header &#125;</span><br><span class="line">export default Component</span><br></pre></td></tr></table></figure>

<p>…</p>
<h3 id="6-项目文件结构规范"><a href="#6-项目文件结构规范" class="headerlink" title="6. 项目文件结构规范"></a>6. 项目文件结构规范</h3><p>不得不说，在这件事上我们团队曾经花费了大量的经历去思考和实践，也是信了React官方的鬼话：<strong>不要花超过五分钟在选择项目文件组织结构上</strong>[18]。</p>
<p>在项目初期若不重视，到了后期就是到处天马行空，你很难在期望的目录下找到你想要的文件。</p>
<p>文件夹名称全部采用小写 + “-“ 来隔开，index.ts更多是用来做导出作用，要不然最后编辑器中满屏的index.tsx，很难区分。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">- src 开发目录</span><br><span class="line">   - pages 视图</span><br><span class="line">       - module-a 模块A</span><br><span class="line">         - components 私有组件</span><br><span class="line">           - ComA.tsx</span><br><span class="line">           - ComB.tsx</span><br><span class="line">         - index.module.less</span><br><span class="line">         - index.tsx</span><br><span class="line">         - Content.tsx</span><br><span class="line">       - module-b 模块B</span><br><span class="line">   - components 公共组件</span><br><span class="line">     - index.ts 导出所有组件</span><br><span class="line">     - header</span><br><span class="line">       - index.tsx</span><br><span class="line">       - index.module.less</span><br><span class="line">       - User.tsx</span><br><span class="line">       - useGetBaseInfo.hooks.ts</span><br><span class="line">   - routers 路由文件</span><br><span class="line">   - store redux中的数据</span><br><span class="line">   - utils 这里是以utils为后缀</span><br><span class="line">     - index.ts</span><br><span class="line">     - a.utils.ts</span><br><span class="line">     - b.utils.ts</span><br><span class="line">   - hooks 这里是以hooks为后缀</span><br><span class="line">     - index.ts</span><br><span class="line">     - a.hooks.ts</span><br><span class="line">     - b.hooks.ts</span><br><span class="line">   - styles 静态资源文件</span><br><span class="line">   - service api请求,这里是以api为后缀</span><br><span class="line">     - a.api.ts 按照后端微服务进行划分</span><br><span class="line">     - b.api.ts</span><br><span class="line">   - constans 常量</span><br></pre></td></tr></table></figure>

<p>通过对工具函数、hooks、api 等加上后缀，更加容易区分引入的文件。</p>
<h3 id="7-Git-commit规范"><a href="#7-Git-commit规范" class="headerlink" title="7. Git commit规范"></a>7. Git commit规范</h3><p>git commit 规范主要可以帮助开发人员在 code review 期间更容易理解提交的内容，现在大部分主流 commit 规范都是基于<strong>Angular 团队的规范</strong>[19]而衍生出来的，它的 message 格式如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">type</span>&gt;</span>(<span class="tag">&lt;<span class="name">scope</span>&gt;</span>): <span class="tag">&lt;<span class="name">subject</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BLANK</span> <span class="attr">LINE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">BLANK</span> <span class="attr">LINE</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>每个提交消息都包含一个<strong>subject</strong>、一个<strong>body</strong>和一个<strong>footer</strong> (中间使用空行分割)，提交信息的任何一行不能超过 100 个字符。</p>
<p>👉 type主要有以下几种类型：</p>
<ul>
<li><strong>feat</strong>: 一个新特性</li>
<li><strong>fix</strong>: 修复bug</li>
<li><strong>docs</strong>: 文档修改</li>
<li><strong>style</strong>: 不影响代码含义的更改（空格、格式、缺少分号等）</li>
<li><strong>refactor</strong>: 代码重构</li>
<li><strong>perf</strong>: 优化性能</li>
<li><strong>test</strong>: 测试用例修改</li>
<li><strong>chore</strong>: 对构建过程或辅助工具和库的更改，例如文档生成</li>
</ul>
<p>👉 scope：可以是影响范围的任何内容。</p>
<p>👉 subject：包含对更改的简洁描述，规则：</p>
<ul>
<li>使用陈述语句</li>
<li>第一个字母不要大写</li>
<li>末尾没有点 (.)</li>
</ul>
<p>👉 body：commit 具体修改内容, 可以分为多行，应该包括改变的动机，并与以前的行为进行对比。</p>
<p>👉 footer: 一些备注, 通常是修复的 bug 的链接。</p>
<p>截取一张开源库的 commit，<strong>example</strong>[20]：</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/mshqAkialV7FJJoUgu88p8ib2J1qp0VKN5icfEicDgPqchubUckwLpC212Dn4vuKIWshuKjFRYCPhxhVPXqUuIicGWA/640?wx_fmt=other&wxfrom=5&wx_lazy=1&wx_co=1" alt="图片"></p>
<p>有了规范后，我们需要通过工具去约束：<strong>commitlint</strong>[21]。它要做的就是在我们每次提交 <code>git commit</code> 的时候，都会帮我们检查 <code>commit message</code> 是否符合一定的规范，如果不符合，就让这次提交失败。</p>
<p>具体配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装 commitlint cli 和 conventional config</span></span><br><span class="line">npm install --save-dev @commitlint/&#123;config-conventional,cli&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Windows:</span></span><br><span class="line">npm install --save-dev @commitlint/config-conventional @commitlint/cli</span><br><span class="line"></span><br><span class="line">配置要使用的 commitlint 规则</span><br><span class="line">echo &quot;module.exports = &#123;extends: [&#x27;@commitlint/config-conventional&#x27;]&#125;&quot; &gt; commitlint.config.js</span><br><span class="line"></span><br><span class="line">加入到husky中：</span><br><span class="line">npx husky add .husky/commit-msg &#x27;npx --no -- commitlint --edit &quot;$1&quot;&#x27;</span><br><span class="line">or</span><br><span class="line">yarn husky add .husky/commit-msg &#x27;yarn commitlint --edit $1&#x27;</span><br></pre></td></tr></table></figure>

<p>更多详情见官网：<strong>github.com&#x2F;conventiona…</strong>[22]</p>
<h3 id="8-UI设计规范"><a href="#8-UI设计规范" class="headerlink" title="8. UI设计规范"></a>8. UI设计规范</h3><p>优秀的开发者应该反向推动UI的规范，并且能够支撑UI规范的落地。</p>
<p>UI 规范的最大好处就是能够提质提效：</p>
<ul>
<li>在开发者的角度，与设计规范同步形成研发资产，避免重复造轮子；</li>
<li>在测试的角度，能够避免重复的无意义走查；</li>
<li>在UI设计师的角度，减少设计成本，提高设计效率，可以快速承接新需求；</li>
<li>站在产品角度，提高产品迭代与优化效率，降低试错成本；</li>
<li>站在用户角度，解决用户体验一致性。</li>
</ul>
<p>那到底应该怎么去推动UI规范？我的做法是<code>先让设计师去给出一系列的规范，没有相关规范就拉上产品经理一起制定规范。然后前端建立一套自己的组件库，再将组件库提供给UI设计师，以此来相互监督是否达成了规范协议。</code></p>
<p>具体参考 <strong>Antd设计规范</strong>[23]。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>统一规范的最根本目的是为了保证团队成员的一致性，从而减少沟通成本，提高开发效率。</p>
<p>学会热爱标准，但要确保它们不是一成不变的。如果制定的规范不适合您的团队，请确保可以适应和重写所需要的任何规则。它并不是要强制执行一种工作方式，而是为了帮助促进团队之间的互动 👏👏👏。</p>
<p>原文地址： <a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/A4eA1t8L-wLIrBdzUVezqw">https://mp.weixin.qq.com/s/A4eA1t8L-wLIrBdzUVezqw</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://leejs.cn">黄贻飞</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://leejs.cn/b27af083/">https://leejs.cn/b27af083/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://leejs.cn" target="_blank">HaloHuang Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://images-origin.wallwiz.link/58860b66bcf65400017a5089_1" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/4000f72f/"><img class="prev-cover" src="https://images-origin.wallwiz.link/58860b9a6e9f6a00013b8f89_1" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SVG 完全讲解</div></div></a></div><div class="next-post pull-right"><a href="/2742505907/"><img class="next-cover" src="https://images-origin.wallwiz.link/58860f1c6e9f6a00013b944b_1" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">TS 入门学习</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">黄贻飞</div><div class="author-info__description">学习 生活 成长</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E8%A7%84%E8%8C%83"><span class="toc-number">1.</span> <span class="toc-text">为什么需要规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BE%9D%E7%84%B6%E6%9C%89%E5%BE%88%E5%A4%9A%E5%9B%A2%E9%98%9F%E7%BC%BA%E4%B9%8F%E8%A7%84%E8%8C%83"><span class="toc-number">2.</span> <span class="toc-text">为什么依然有很多团队缺乏规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BF%9D%E6%8C%81%E8%A7%84%E8%8C%83"><span class="toc-number">3.</span> <span class="toc-text">如何保持规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%80%85%E9%9C%80%E8%A6%81%E5%BB%BA%E7%AB%8B%E5%92%8C%E9%81%B5%E5%AE%88%E7%9A%84%E8%A7%84%E8%8C%83"><span class="toc-number">4.</span> <span class="toc-text">开发者需要建立和遵守的规范</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E8%A7%84%E8%8C%83"><span class="toc-number">4.1.</span> <span class="toc-text">1. 开发流程规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E4%B9%8B%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%A7%84%E8%8C%83"><span class="toc-number">4.2.</span> <span class="toc-text">2. 代码规范之格式化规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E4%B9%8BJS-x2F-TS%E8%A7%84%E8%8C%83"><span class="toc-number">4.3.</span> <span class="toc-text">3. 代码规范之JS&#x2F;TS规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E4%B9%8BCSS%E8%A7%84%E8%8C%83"><span class="toc-number">4.4.</span> <span class="toc-text">4. 代码规范之CSS规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E4%B9%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%B6%E4%BB%96%E8%A7%84%E8%8C%83"><span class="toc-number">4.5.</span> <span class="toc-text">5. 代码规范之自定义其他规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%A1%B9%E7%9B%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E8%A7%84%E8%8C%83"><span class="toc-number">4.6.</span> <span class="toc-text">6. 项目文件结构规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Git-commit%E8%A7%84%E8%8C%83"><span class="toc-number">4.7.</span> <span class="toc-text">7. Git commit规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-UI%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83"><span class="toc-number">4.8.</span> <span class="toc-text">8. UI设计规范</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2377b695/" title="reduce 使用技巧"><img src="https://images-origin.wallwiz.link/58860f026e9f6a00013b9428_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="reduce 使用技巧"/></a><div class="content"><a class="title" href="/2377b695/" title="reduce 使用技巧">reduce 使用技巧</a><time datetime="2023-05-09T11:45:11.000Z" title="发表于 2023-05-09 19:45:11">2023-05-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/88f781f4/" title="unplugin-auto-import 和 unplugin-vue-components"><img src="https://images-origin.wallwiz.link/58860ba7dc1d3f00010acdef_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="unplugin-auto-import 和 unplugin-vue-components"/></a><div class="content"><a class="title" href="/88f781f4/" title="unplugin-auto-import 和 unplugin-vue-components">unplugin-auto-import 和 unplugin-vue-components</a><time datetime="2023-02-24T07:50:35.000Z" title="发表于 2023-02-24 15:50:35">2023-02-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/4af6e48a/" title="npm registry"><img src="https://images-origin.wallwiz.link/58860b9a6e9f6a00013b8f89_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="npm registry"/></a><div class="content"><a class="title" href="/4af6e48a/" title="npm registry">npm registry</a><time datetime="2023-02-21T08:50:50.000Z" title="发表于 2023-02-21 16:50:50">2023-02-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/c7bb02e1/" title="LetJs"><img src="https://images-origin.wallwiz.link/58860c5cdc1d3f00010acee5_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LetJs"/></a><div class="content"><a class="title" href="/c7bb02e1/" title="LetJs">LetJs</a><time datetime="2023-02-16T07:48:01.000Z" title="发表于 2023-02-16 15:48:01">2023-02-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/8aca716b/" title="VUE3 项目搭建"><img src="https://images-origin.wallwiz.link/58860f1c6e9f6a00013b944b_1" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="VUE3 项目搭建"/></a><div class="content"><a class="title" href="/8aca716b/" title="VUE3 项目搭建">VUE3 项目搭建</a><time datetime="2022-12-23T02:19:56.000Z" title="发表于 2022-12-23 10:19:56">2022-12-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 黄贻飞</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>